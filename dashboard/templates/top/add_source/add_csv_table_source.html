{% extends "top/add_source_layout.html" %}

{% import 'macros/form.html' as form_macro %}

{% block title %}Multi Record CSV{% endblock title %}

{% block content %}

<form method="POST" action="{{url_for('top.csv.add_csv_table_source_view', workflow_id=workflow_id)}}">
    {{ form.csrf_token }}

    <div class="border rounded bg-gray-50 p-4 flex items-center gap-4">
        <div class="text-green-500">
            {% include 'svg/important.html' %}
        </div>

        <div class="flex-col space-y-4">
                <p>
                    Add a multiple rows of data from a .csv file.
                </p>

                <p>
                    These rows can either be handled by splitting the Workflow at this point, and each record will be treated like a single record CSV source, or by attaching the entire table of data to one Field, which can be handled in a single template.
                    </p>
                    <p>
                        In other words, if the .csv file has say 3 rows of data, decide whether this should mean that there will be 3 output documents (one per row of data), or whether one output documents should have the whole table of data in it.
                    </p>
        </div>
    </div>

    <div class="border rounded p-2 my-2 bg-gray-50">
        <div class="flex gap-4">
            {{ form.step.label(class='block mt-4 text-sm font-medium text-gray-900') }}
            {{ form.step(class='mt-1.5 p-2 w-24 rounded border-gray-200 sm:text-sm') }}
        </div>


        {% include 'components/dynamic_file_access_form.html' %}

        {% include 'components/splitter.html' %}
        
        <div class="mt-1.5">
            {{ form.submit(class='mt-1.5 rounded border border-indigo-600 bg-indigo-600 px-12 py-3 text-sm font-medium
            text-white hover:bg-transparent hover:text-indigo-600 focus:outline-none focus:ring active:text-indigo-500') }}
        </div>
    </div>

</form>

{% endblock content %}
